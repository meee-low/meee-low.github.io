import{s as J,n as G,r as K,d as O}from"../chunks/Bx6vS9cK.js";import{S as Q,i as V,d,s as z,a as h,b as R,w as D,m as M,c as T,n as q,g as j,e as H,f as g,h as v,j as E,t as k}from"../chunks/pkgiTMN5.js";function W(l){var I;let i,o="Play",b,a,c="Pause",r,n,m="Record",p,f,B,u,y,_=((I=l[6])==null?void 0:I.size)+"",U,P,s,C,S=l[5].length+"",w,L,N,A;return{c(){i=v("button"),i.textContent=o,b=E(),a=v("button"),a.textContent=c,r=E(),n=v("button"),n.textContent=m,p=E(),f=v("audio"),B=E(),u=v("pre"),y=k("  audioblob="),U=k(_),P=k(`
  mediaRecorder=`),s=k(l[4]),C=k(`
  audioRecordingStreamChunks.length=`),w=k(S),L=k(`
`),this.h()},l(t){i=T(t,"BUTTON",{class:!0,"data-svelte-h":!0}),q(i)!=="svelte-1ih1sda"&&(i.textContent=o),b=j(t),a=T(t,"BUTTON",{class:!0,"data-svelte-h":!0}),q(a)!=="svelte-vf1j02"&&(a.textContent=c),r=j(t),n=T(t,"BUTTON",{class:!0,"data-svelte-h":!0}),q(n)!=="svelte-grk6ij"&&(n.textContent=m),p=j(t),f=T(t,"AUDIO",{}),H(f).forEach(d),B=j(t),u=T(t,"PRE",{});var e=H(u);y=g(e,"  audioblob="),U=g(e,_),P=g(e,`
  mediaRecorder=`),s=g(e,l[4]),C=g(e,`
  audioRecordingStreamChunks.length=`),w=g(e,S),L=g(e,`
`),e.forEach(d),this.h()},h(){M(i,"class","svelte-1dirura"),M(a,"class","svelte-1dirura"),M(n,"class","svelte-1dirura"),f.controls=!0,f.hidden=!0},m(t,e){h(t,i,e),l[10](i),h(t,b,e),h(t,a,e),l[11](a),h(t,r,e),h(t,n,e),l[12](n),h(t,p,e),h(t,f,e),l[13](f),h(t,B,e),h(t,u,e),R(u,y),R(u,U),R(u,P),R(u,s),R(u,C),R(u,w),R(u,L),N||(A=[D(i,"click",l[7]),D(a,"click",l[8]),D(n,"click",l[9])],N=!0)},p(t,[e]){var F;e&64&&_!==(_=((F=t[6])==null?void 0:F.size)+"")&&z(U,_),e&16&&z(s,t[4]),e&32&&S!==(S=t[5].length+"")&&z(w,S)},i:G,o:G,d(t){t&&(d(i),d(b),d(a),d(r),d(n),d(p),d(f),d(B),d(u)),l[10](null),l[11](null),l[12](null),l[13](null),N=!1,K(A)}}}function X(l,i,o){let b,a,c,r,n,m=[],p;function f(){p&&r.play()}function B(){r.pause()}async function u(){if(!n||n.state==="inactive"){const s=await navigator.mediaDevices.getUserMedia({audio:!0});o(4,n=new MediaRecorder(s)),o(4,n.ondataavailable=C=>{m.push(C.data)},n),o(4,n.onstop=()=>{o(6,p=new Blob(m,{type:"audio/webm"})),o(5,m=[]);const C=URL.createObjectURL(p);o(3,r.src=C,r)},n),n.start(),o(2,c.textContent="Stop",c)}else n.stop(),o(2,c.textContent="Record",c)}function y(s){O[s?"unshift":"push"](()=>{a=s,o(1,a)})}function _(s){O[s?"unshift":"push"](()=>{b=s,o(0,b)})}function U(s){O[s?"unshift":"push"](()=>{c=s,o(2,c)})}function P(s){O[s?"unshift":"push"](()=>{r=s,o(3,r)})}return[b,a,c,r,n,m,p,f,B,u,y,_,U,P]}class x extends Q{constructor(i){super(),V(this,i,X,W,J,{})}}export{x as component};
