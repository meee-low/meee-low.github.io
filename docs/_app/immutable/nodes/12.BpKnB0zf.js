import{s as A,n as S,r as N,c as R,a as E,d as T}from"../chunks/scheduler.D9M2Mvwn.js";import{S as j,i as q,e as g,s as w,c as v,a as y,f as I,d,n as p,g as k,h,w as P,r as F,t as M,b as V,j as C}from"../chunks/index.B9F1qqVi.js";import{e as U}from"../chunks/each.CyciAZEw.js";import{g as G}from"../chunks/entry.BDEeqWEP.js";import{i as $}from"../chunks/images_store.CRTMab6J.js";function D(o,a,s){const i=o.slice();return i[3]=a[s],i[5]=s,i}function x(o){let a,s,i,f,c,r=o[3].file.name+"",u,_;return{c(){a=g("div"),s=g("img"),f=w(),c=g("span"),u=M(r),_=w(),this.h()},l(n){a=v(n,"DIV",{});var e=y(a);s=v(e,"IMG",{class:!0,src:!0,alt:!0}),f=I(e),c=v(e,"SPAN",{class:!0});var t=y(c);u=V(t,r),t.forEach(d),_=I(e),e.forEach(d),this.h()},h(){p(s,"class","border object-cover p-1 mx-auto"),E(s.src,i=o[3].url)||p(s,"src",i),p(s,"alt",`Uploaded image ${o[5]}`),p(c,"class","block overflow-hidden text-ellipsis whitespace-nowrap text-center")},m(n,e){k(n,a,e),h(a,s),h(a,f),h(a,c),h(c,u),h(a,_)},p(n,e){e&1&&!E(s.src,i=n[3].url)&&p(s,"src",i),e&1&&r!==(r=n[3].file.name+"")&&C(u,r)},d(n){n&&d(a)}}}function L(o){let a,s,i,f,c,r,u,_,n=U(o[0]),e=[];for(let t=0;t<n.length;t+=1)e[t]=x(D(o,n,t));return{c(){a=g("form"),s=g("input"),i=w(),f=g("input"),c=w(),r=g("div");for(let t=0;t<e.length;t+=1)e[t].c();this.h()},l(t){a=v(t,"FORM",{});var m=y(a);s=v(m,"INPUT",{class:!0,type:!0,accept:!0}),i=I(m),f=v(m,"INPUT",{class:!0,type:!0}),m.forEach(d),c=I(t),r=v(t,"DIV",{class:!0});var l=y(r);for(let b=0;b<e.length;b+=1)e[b].l(l);l.forEach(d),this.h()},h(){p(s,"class","mb-4"),p(s,"type","file"),p(s,"accept","image/*"),s.multiple=!0,p(f,"class","block rounded-sm border border-black p-2"),p(f,"type","submit"),p(r,"class","grid grid-cols-2 gap-4 md:grid-cols-4 lg:grid-cols-6")},m(t,m){k(t,a,m),h(a,s),h(a,i),h(a,f),k(t,c,m),k(t,r,m);for(let l=0;l<e.length;l+=1)e[l]&&e[l].m(r,null);u||(_=[P(s,"change",o[1]),P(a,"submit",o[2])],u=!0)},p(t,[m]){if(m&1){n=U(t[0]);let l;for(l=0;l<n.length;l+=1){const b=D(t,n,l);e[l]?e[l].p(b,m):(e[l]=x(b),e[l].c(),e[l].m(r,null))}for(;l<e.length;l+=1)e[l].d(1);e.length=n.length}},i:S,o:S,d(t){t&&(d(a),d(c),d(r)),F(e,t),u=!1,N(_)}}}function O(o,a,s){let i;R(o,$,r=>s(0,i=r));function f(r){const u=r.currentTarget;if(!u.files)return;Array.from(u.files).forEach(n=>{const e=new FileReader;e.onload=t=>{t.target&&T($,i=[...i,{url:t.target.result,file:n}],i)},e.readAsDataURL(n)})}function c(r){r.preventDefault();const u=window.location.pathname;G(`${u}/rank`)}return[i,f,c]}class Q extends j{constructor(a){super(),q(this,a,O,L,A,{})}}export{Q as component};
